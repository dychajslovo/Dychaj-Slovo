<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dýchaj Slovo</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@600&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Open Sans', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f4f4f4;
            color: #333;
        }

        /* HEADER */
        .header {
            position: relative;
            max-width: 1200px;
            margin: 0 auto 30px;
            text-align: left;
        }

        .banner {
            width: 100%;
            max-height: 300px;
            object-fit: cover;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            display: block;
        }

        /* FIXED CART BUTTON */
        .cart-btn {
            position: fixed;
            top: 15px;
            right: 15px;
            background: #2c495e;
            color: white;
            border: none;
            padding: 8px 14px;
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            box-shadow: 0 3px 8px rgba(0,0,0,0.2);
            z-index: 1000;
            font-size: 14px;
        }
        .cart-btn:hover { background: #3fcfd5; }
        .cart-count {
            background: #ff4444;
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 11px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        /* PROFILE ROW – DESKTOP ONLY */
        .profile-row {
            display: flex;
            align-items: flex-end;
            justify-content: flex-start;
            gap: 18px;
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 20px;
            position: relative;
            top: -140px;
            z-index: 10;
        }
        .profile-left {
            display: flex;
            align-items: flex-end;
            margin-left: 15px;
        }
        .profile-overlap {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            object-fit: cover;
            border: 6px solid white;
            box-shadow: 0 6px 16px rgba(0,0,0,0.2);
        }
        .profile-name {
            font-family: 'Fredoka', sans-serif;
            font-weight: 600;
            font-size: 50px;
            color: #222;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin: 0;
            line-height: 1;
            padding-bottom: 8px;
            white-space: nowrap;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            z-index: 15;
        }

        /* INTRO */
        .intro-top {
            max-width: 900px;
            margin: -90px auto 15px;
            text-align: center;
            font-size: 16px;
            line-height: 1.6;
            position: relative;
            z-index: 5;
        }
        .intro-top p { margin: 8px 0; }
        .intro-top b { font-weight: 600; }
        .intro-top i { font-style: italic; }

        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 0 auto 25px;
            max-width: 900px;
            flex-wrap: wrap;
        }
        .nav-btn {
            background: #2c495e;
            color: white;
            border: none;
            padding: 14px 0;
            font-size: 16px;
            font-weight: 600;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 3px 8px rgba(0,0,0,0.15);
            flex: 1;
            min-width: 200px;
            max-width: 260px;
        }
        .nav-btn:hover {
            background: #3fcfd5;
            transform: translateY(-2px);
        }

        .intro-bottom {
            max-width: 900px;
            margin: 0 auto 50px;
            text-align: center;
            font-size: 16px;
            line-height: 1.6;
        }
        .intro-bottom p { margin: 6px 0; }

        /* SECTIONS */
        .section {
            max-width: 900px;
            margin: 60px auto;
            padding: 30px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            text-align: center;
        }
        .section h2 {
            font-family: 'Fredoka', sans-serif;
            font-size: 32px;
            color: #2c495e;
            margin-bottom: 20px;
        }
        .section p {
            font-size: 16px;
            line-height: 1.7;
            margin: 12px 0;
        }

        /* PRODUCT */
        .section-product {
            background: #f9f9f9;
            border-radius: 8px;
            padding: 15px;
            margin: 20px auto;
            max-width: 350px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            text-align: center;
        }
        .section-product img {
            width: 100%;
            height: 180px;
            object-fit: contain;
            border-radius: 6px;
            margin-bottom: 12px;
        }
        .section-product h3 {
            font-size: 16px;
            color: #444;
            margin: 8px 0 4px;
            font-weight: 600;
        }
        .product-price {
            font-size: 18px;
            font-weight: bold;
            color: #2c495e;
            margin: 0 0 10px;
        }
        .detail-btn {
            background: #2c495e;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            width: 100%;
            font-size: 15px;
            font-weight: 600;
            margin: 6px 0;
        }
        .detail-btn:hover {
            background: #3fcfd5;
        }

        /* DETAIL MODAL */
        .detail-modal {
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.85);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            padding: 15px;
            box-sizing: border-box;
        }
        .detail-modal.active {
            display: flex;
        }
        .detail-modal .box {
            background: #fff;
            border-radius: 14px;
            max-width: 900px;
            max-height: 90vh;
            width: 100%;
            position: relative;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            display: flex;
            flex-direction: row;
            overflow: hidden;
            margin: 10px;
            box-sizing: border-box;
        }
        .detail-modal .close {
            position: absolute;
            top: 12px;
            right: 16px;
            font-size: 28px;
            cursor: pointer;
            color: #aaa;
            background: none;
            border: none;
            z-index: 10;
            font-weight: bold;
        }
        .detail-modal .close:hover { color: #000; }

        .modal-left {
            flex: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            background: #fafaa;
            position: relative;
        }
        .image-container {
            position: relative;
            width: 100%;
            max-height: 380px;
            overflow: hidden;
            margin-bottom: 16px;
        }
        .modal-img {
            width: 100%;
            max-height: 380px;
            object-fit: contain;
            border-radius: 8px;
            cursor: zoom-in;
            transition: transform 0.3s ease;
        }
        .modal-img.zoomed {
            transform: scale(1.8);
            cursor: zoom-out;
        }
        .nav-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.9);
            color: #000;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            cursor: pointer;
            z-index: 5;
            user-select: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            transition: all 0.2s ease;
        }
        .nav-arrow:hover {
            background: #fff;
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }
        .nav-arrow.prev { left: 10px; }
        .nav-arrow.next { right: 10px; }
        .thumbnails {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 8px;
        }
        .thumb {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 6px;
            cursor: pointer;
            border: 2px solid #ddd;
            transition: border 0.2s;
        }
        .thumb:hover, .thumb.active {
            border-color: #2c495e;
        }

        .modal-right {
            flex: 1;
            padding: 24px;
            display: flex;
            flex-direction: column;
            gap: 14px;
            justify-content: center;
        }
        .modal-right h3 {
            font-size: 22px;
            font-weight: 600;
            color: #222;
            margin: 0;
        }
        .modal-right .desc {
            font-size: 15px;
            line-height: 1.6;
            color: #555;
            margin: 0;
        }
        .price-container {
            margin: 12px 0;
        }
        .modal-right .price {
            font-size: 28px;
            font-weight: bold;
            color: #2c495e;
        }
        .add-to-cart-btn {
            background: #2c495e;
            color: white;
            border: none;
            padding: 16px 20px;
            border-radius: 30px;
            font-size: 17px;
            font-weight: 600;
            cursor: pointer;
            align-self: flex-start;
            min-width: 200px;
            text-align: center;
        }
        .add-to-cart-btn:hover {
            background: #3fcfd5;
        }

        .amazon-btn {
            background: #ff9900;
            color: white;
            margin-top: 15px;
        }
        .amazon-btn:hover {
            background: #e68a00;
        }

        /* CONTACT */
        .contact-section {
            max-width: 900px;
            margin: 40px auto 60px;
            text-align: center;
        }
        .contact-section h2 {
            font-family: 'Fredoka', sans-serif;
            font-size: 28px;
            color: #2c495e;
            margin-bottom: 10px;
        }
        .contact-section hr {
            width: 100px;
            border: 0;
            border-top: 2px solid #ddd;
            margin: 0 auto 20px;
        }
        .contact-section p { font-size: 16px; margin: 8px 0; }
        .contact-section .social-links {
            display: flex;
            gap: 14px;
            justify-content: center;
            margin-top: 20px;
        }

        /* ============================= */
        /* MOBILE: TITLE BELOW BANNER */
        /* ============================= */
        @media (max-width: 768px) {
            /* Hide desktop layout */
            .profile-row, .profile-left, .profile-name {
                display: none !important;
            }

            /* Banner stays as is */
            .banner {
                position: relative;
                height: 200px;
                object-fit: cover;
                border-radius: 8px;
            }

            /* Profile pic INSIDE banner, bottom-left */
            .profile-overlap-mobile {
                position: absolute;
                bottom: -50px;
                left: 16px;
                width: 100px;
                height: 100px;
                border-radius: 50%;
                object-fit: cover;
                border: 4px solid white;
                box-shadow: 0 4px 12px rgba(0,0,0,0.2);
                z-index: 10;
            }

            /* TITLE BELOW BANNER */
            .profile-name-mobile {
                display: block;
                margin: 70px auto 16px;
                text-align: center;
                font-family: 'Fredoka', sans-serif;
                font-weight: 600;
                font-size: 32px;
                color: #222;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                max-width: 90%;
                padding: 0 16px;
            }

            /* Push content down */
            .header {
                padding-bottom: 80px;
            }

            /* Intro spacing */
            .intro-top {
                margin: 20px auto 15px;
            }

            /* Modal fixes */
            .detail-modal .box {
                flex-direction: column;
                max-height: 95vh;
                overflow-y: auto;
            }
            .modal-left { padding: 16px; }
            .image-container { max-height: 300px; }
            .modal-right { padding: 20px; }
            .modal-right h3 { font-size: 20px; }
            .modal-right .price { font-size: 24px; }
            .add-to-cart-btn { align-self: stretch; }
            .nav-arrow { width: 36px; height: 36px; font-size: 20px; }
        }

        @media (max-width: 480px) {
            .thumb { width: 50px; height: 50px; }
            .modal-right .price { font-size: 22px; }
            .add-to-cart-btn { font-size: 16px; padding: 14px; }

            .profile-overlap-mobile {
                width: 80px;
                height: 80px;
                bottom: -40px;
                left: 12px;
            }
            .profile-name-mobile {
                font-size: 28px;
                margin: 60px auto 12px;
            }
        }
    </style>
</head>
<body>

    <!-- FIXED CART BUTTON -->
    <button class="cart-btn" onclick="window.location.href='kosik.html'">
        Košík
        <span class="cart-count" id="cartCount">0</span>
    </button>

    <!-- HEADER -->
    <div class="header">
        <img src="banner.png" alt="Dýchaj Slovo Banner" class="banner">

        <!-- DESKTOP: Overlapping profile + title -->
        <div class="profile-row">
            <div class="profile-left">
                <img src="profile.jpg" alt="Mathias" class="profile-overlap">
            </div>
            <div class="profile-name">Dýchaj Slovo</div>
        </div>

        <!-- MOBILE: Profile pic inside banner + title BELOW -->
        <img src="profile.jpg" alt="Mathias" class="profile-overlap-mobile">
        <h1 class="profile-name-mobile">Dýchaj Slovo</h1>
    </div>

    <!-- INTRO -->
    <div class="intro-top">
        <p><b>Od oltára k rodinnému stolu, od otče k Tata!</b></p>
        <p>Volám sa Mathias a učím sa vnímať Boha v nádychu aj výdychu, v hlase Ducha – <i>Rûach</i> – ktorý vanie kam chce.</p>
        <p>Nie som učiteľ. Som pútnik, ktorý sa učí načúvať Dychu.</p>
        <p>* * *</p>
        <p>V pokoji a tichu denne vnímam Boha, ako ma vyzýva:</p>
        <p><b><i>"Dýchaj Slovo – dýchaj moje Slovo – dýchaj Život, ktorý som Ja sám, a poď za mnou – taký, aký si, s tými, ktorých som ti dal."</i></b></p>
        <p>Preto zdieľam s vami duchovné slová ale aj detské aktivity, ktoré vyrástli z ticha, z bolesti, z hľadania Boha:</p>
    </div>

    <!-- NAVIGATION -->
    <div class="nav-buttons">
        <button class="nav-btn" onclick="document.getElementById('pracovne-listy').scrollIntoView()">Detské Pracovné Listy</button>
        <button class="nav-btn" onclick="document.getElementById('deti').scrollIntoView()">Pre Rodiny a Deti</button>
        <button class="nav-btn" onclick="document.getElementById('uvahy').scrollIntoView()">Denné Úvahy z Písma</button>
        <button class="nav-btn" onclick="document.getElementById('cvicenia').scrollIntoView()">Duchovné Cvičenia</button>
        <button class="nav-btn" onclick="document.getElementById('anglicke-texty').scrollIntoView()">Anglické Knihy na Amazone</button>
    </div>

    <div class="intro-bottom">
        <p>Hovorím o viere, ktorá sa nebojí otázok, o láske, ktorá nesúdi, a o slobode, ktorá prichádza, keď dýchame Božím Duchom - keď dýchame jeho Slovo.</p>
        <p>* * *</p>
    </div>

    <!-- SECTIONS -->
    <div id="pracovne-listy" class="section">
        <h2>Detské Pracovné Listy !!čoskoro!!</h2>
        <p>Praktické a hravé pracovné listy pre deti. Obsahujú aktivity, úlohy a maľovanky.</p>
        <p>Všetko pripravené na zábavné chvíle doma.</p>
        <p>Texty sú vytlačené a prípadne zviazané a laminované - poslané poštou.</p>
        <div class="section-product">
            <img src="placeholder-listy.jpg" alt="Pracovné listy">
            <h3>Zábavné Pracovné Listy pre Deti</h3>
            <div class="product-price">čoskoro</div>
            <button class="detail-btn" onclick="openProductDetail(
                'Zábavné Pracovné Listy pre Deti',
                'čoskoro',
                'Súbor 10 pracovných listov – maľovanky, úlohy a aktivity pre deti 2-5 rokov.',
                'placeholder-listy.jpg',
                ['placeholder-listy.jpg', 'listy-preview1.jpg', 'listy-preview2.jpg']
            )">Detaily</button>
        </div>
    </div>

    <div id="deti" class="section">
        <h2>Pre Rodiny a Deti</h2>
        <p>Deti sú najbližšie k Božiemu kráľovstvu. Tu nájdeš príbehy, aktivity a modlitby, ktoré hovoria ich jazykom.</p>
        <p>Spoločne objavujeme v rodine, že Boh je Tata, ktorý sa raduje z detskej viery.</p>
        <p>Texty sú vytlačené a zviazané - poslané poštou.</p>
        <div class="section-product">
            <img src="ADVENTcover.jpeg" alt="Advent Cover">
            <h3>Rodinné Zamyslenia na Advent - Čítaj, Modli sa, Vyfarbuj, Tvor - Deti 2+</h3>
            <div class="product-price">5 €</div>
            <button class="detail-btn" onclick="openProductDetail(
                'Rodinné Zamyslenia na Advent - Čítaj, Modli sa, Vyfarbuj, Tvor - Deti 2+',
                '5 €',
                'Adventný zošit pre rodinu s deťmi. V kruhu rodiny objavujte krásu Adventného obdobia čítaním Božieho Slova, modlitbami, maľovankami a tvorivými úlohami od 30. novembra do 25. decembra 2025. Denné evanjelia sú podľa rímskokatolíckeho liturgického kalendára. Texty sú vytlačené a zviazané. Odporúčame vyfarbovať maľovanky s pastelkami alebo voskovkami. A5 formát, 62 strán.',
                'ADVENTcover.jpeg',
                ['ADVENTcover.jpeg', 'Adv_kids_p3.jpeg', 'Adv_kids_p7.jpeg', 'Adv_kids_p8.jpeg']
            )">Detaily</button>
        </div>
    </div>

    <div id="uvahy" class="section">
        <h2>Denné Úvahy z Božieho Slova</h2>
        <p>Tu nájdeš hlboké zamyslenia nad Božím Slovom, ktoré ťa pozývajú zastaviť sa, počúvať a nechať sa viesť Duchom.</p>
        <p>Texty sú iba v PDF formáte - poslané e-mailom.</p>
        <div class="section-product">
            <img src="ADVENT-UVAHYcover.jpeg" alt="Advent Úvahy">
            <h3>Advent, Denné úvahy z Božieho Slova</h3>
            <div class="product-price">5 €</div>
            <button class="detail-btn" onclick="openProductDetail(
                'Advent, Denné úvahy z Božieho Slova',
                '5 €',
                'Každodenné zamyslenia z Božieho Slova na Advent, ktoré ťa pozývajú k hlbšiemu stíšeniu a načúvaniu Božiemu slovu. Zamyslenia nad denným evajeliom podľa rímskokatolíckeho liturgického kalendára od 30. novembra do 25. decembra 2025. PDF formát, 94 strán.',
                'ADVENT-UVAHYcover.jpeg',
                ['ADVENT-UVAHYcover.jpeg', 'advent1.jpg', 'advent2.jpg', 'advent3.jpg']
            )">Detaily</button>
        </div>
    </div>

    <div id="cvicenia" class="section">
        <h2>Duchovné Cvičenia</h2>
        <p>Ponúkame jednoduché duchovné cvičenia, ktoré ti pomôžu prežívať prítomnosť Boha v každodennom živote.</p>
        <p>Texty sú iba v PDF formáte - poslané e-mailom.</p>
        <div class="section-product">
            <img src="ADAMcover.png" alt="Adam, kde si?">
            <h3>Adam, kde si?</h3>
            <div class="product-price">3 €</div>
            <button class="detail-btn" onclick="openProductDetail(
                'Adam, kde si?',
                '3 €',
                'Malé duchovné cvičenia na hľadanie seba v tichu a Božej prítomnosti – jednoduché kroky k vnútornému pokoju. PDF formát, 4 meditácie (1 meditáciu na deň - spolu 4. dňové malé duchovné cvičenia), 18 strán.',
                'ADAMcover.png',
                ['ADAMcover.png', 'adam1.png', 'adam2.png', 'adam3.png']
            )">Detaily</button>
        </div>
    </div>

    <div id="anglicke-texty" class="section">
        <h2>Anglické Knihy na Amazone</h2>
        <p>Objavte anglické knihy a Kindle Ebooky s duchovnou tematikou od autora <strong>Mathias Gocik</strong> na Amazone.</p>
        <div class="section-product">
            <img src="amazon.png" alt="Amazon1">
            <h3>Anglické duchovné Knihy a Kindle Ebooky</h3>
            <div class="product-price">5 € - 25 €</div>
            <button class="detail-btn" onclick="openProductDetail(
                'Anglické knihy na Amazone',
                '',
                'Prezrite si tieto ako aj iné diela s duchovnou tematikou od Mathiasa Gocika na Amazone.',
                'amazon.png',
                ['amazon1.jpg', 'amazon2.jpg', 'amazon3.jpg', 'amazon4.jpg']
            )">Detaily</button>
            <a href="https://www.amazon.com/stores/Mathias-Gocik/author/B0DZJ1WPP2?sr=8-34&isDramIntegrated=true&shoppingPortalEnabled=true" target="_blank">
                <button class="detail-btn amazon-btn">Pozrieť na Amazone</button>
            </a>
        </div>
    </div>

    <!-- CONTACT -->
    <div class="contact-section">
        <h2>Kontakt</h2>
        <hr>
        <p>dychajslovo@gmail.com</p>
        <p>+421944338237</p>
        <div class="social-links">
            <a href="https://facebook.com/profile.php?id=61581374472536" target="_blank"><svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M22.676 0H1.324C.593 0 0 .593 0 1.324v21.352C0 23.407.593 24 1.324 24h11.494v-9.294H9.689v-3.622h3.129V8.412c0-3.1 1.893-4.788 4.657-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12V24h6.116c.73 0 1.323-.593 1.323-1.324V1.324C24 .593 23.407 0 22.676 0z"/></svg></a>
            <a href="https://instagram.com/dychajslovo" target="_blank"><svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.697.272 1.052 1.936 1.052 6.292c0 1.28-.014 1.688-.072 2.968C.88 13.616.272 15.26.272 19.616c0 4.357.608 5.997 2.34 5.997.73.058 1.138.072 3.332.072 3.259 0 3.667-.014 4.947.072 4.357-.2 5.997-.808 5.997-2.34 0-1.28.014-1.688.072-2.968.1-4.357.708-5.997 2.34-5.997.73-.058 1.138-.072 3.332-.072z"/><path d="M12 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zm0 10.162a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 11-2.88 0 1.44 1.44 0 012.88 0z"/></svg></a>
            <a href="https://x.com/DychajSlovo" target="_blank"><svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
        </div>
    </div>

    <!-- DETAIL MODAL -->
    <div id="detailModal" class="detail-modal">
        <div class="box">
            <button class="close" onclick="closeDetail()">x</button>
            <div class="modal-left">
                <div class="image-container">
                    <div class="nav-arrow prev" onclick="changeImage(-1)"><</div>
                    <img id="modalImg" class="modal-img" src="" alt="" onclick="toggleZoom()">
                    <div class="nav-arrow next" onclick="changeImage(1)">></div>
                </div>
                <div class="thumbnails" id="thumbnails"></div>
            </div>
            <div class="modal-right">
                <h3 id="modalTitle"></h3>
                <p class="desc" id="modalDesc"></p>
                <div class="price-container">
                    <div class="price" id="modalPrice"></div>
                </div>
                <button class="add-to-cart-btn" id="addToCartBtn" style="display:none">Do košíka</button>
                <a id="amazonLink" href="https://www.amazon.com/stores/Mathias-Gocik/author/B0DZJ1WPP2" target="_blank" style="display:none">
                    <button class="detail-btn amazon-btn" style="margin-top:10px;width:100%">Pozrieť na Amazone</button>
                </a>
            </div>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script>
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        updateCartCount();
        function addToCart(title, price, img) {
            cart.push({ title, price, img });
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            closeDetail();
        }
        function updateCartCount() {
            document.getElementById('cartCount').textContent = cart.length;
        }
        let galleryImages = [];
        let currentIndex = 0;
        function openProductDetail(title, price, desc, img, previewList) {
            galleryImages = previewList;
            currentIndex = previewList.indexOf(img) !== -1 ? previewList.indexOf(img) : 0;
            document.getElementById('modalImg').src = galleryImages[currentIndex];
            document.getElementById('modalTitle').textContent = title;
            document.getElementById('modalPrice').textContent = price;
            document.getElementById('modalDesc').textContent = desc;
            const addBtn = document.getElementById('addToCartBtn');
            const amazonLink = document.getElementById('amazonLink');
            if (title.includes('Amazon')) {
                addBtn.style.display = 'none';
                amazonLink.style.display = 'block';
            } else {
                addBtn.style.display = 'block';
                amazonLink.style.display = 'none';
                addBtn.onclick = () => addToCart(title, price, img);
            }
            const thumbs = document.getElementById('thumbnails');
            thumbs.innerHTML = '';
            galleryImages.forEach((src, i) => {
                const thumb = document.createElement('img');
                thumb.src = src;
                thumb.className = 'thumb';
                if (i === currentIndex) thumb.classList.add('active');
                thumb.onclick = (e) => {
                    e.stopPropagation();
                    currentIndex = i;
                    document.getElementById('modalImg').src = src;
                    updateThumbnails();
                    resetZoom();
                };
                thumbs.appendChild(thumb);
            });
            document.getElementById('detailModal').classList.add('active');
        }
        function closeDetail() {
            document.getElementById('detailModal').classList.remove('active');
            resetZoom();
        }
        function changeImage(step) {
            currentIndex = (currentIndex + step + galleryImages.length) % galleryImages.length;
            document.getElementById('modalImg').src = galleryImages[currentIndex];
            updateThumbnails();
            resetZoom();
        }
        function updateThumbnails() {
            document.querySelectorAll('.thumb').forEach((t, i) => {
                t.classList.toggle('active', i === currentIndex);
            });
        }
        function toggleZoom() {
            const img = document.getElementById('modalImg');
            img.classList.toggle('zoomed');
        }
        function resetZoom() {
            document.getElementById('modalImg').classList.remove('zoomed');
        }
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') closeDetail();
        });
        document.getElementById('detailModal').addEventListener('click', function(e) {
            if (e.target === this) closeDetail();
        });
    </script>
</body>
</html>
